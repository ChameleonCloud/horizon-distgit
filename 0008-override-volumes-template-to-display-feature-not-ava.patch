From 0e9898d4238be09e1429d92e59ba23080b0ef947 Mon Sep 17 00:00:00 2001
From: Matthew R Hanlon <mrhanlon@tacc.utexas.edu>
Date: Fri, 3 Apr 2015 16:40:44 -0500
Subject: [PATCH 08/16] override volumes template to display feature not
 available

---
 .../project/volumes/templates/volumes/index_override.html   | 13 +++++++++++++
 openstack_dashboard/dashboards/project/volumes/views.py     | 12 +++---------
 2 files changed, 16 insertions(+), 9 deletions(-)
 create mode 100644 openstack_dashboard/dashboards/project/volumes/templates/volumes/index_override.html

diff --git a/openstack_dashboard/dashboards/project/volumes/templates/volumes/index_override.html b/openstack_dashboard/dashboards/project/volumes/templates/volumes/index_override.html
new file mode 100644
index 0000000..baf2b98
--- /dev/null
+++ b/openstack_dashboard/dashboards/project/volumes/templates/volumes/index_override.html
@@ -0,0 +1,13 @@
+{% extends 'base.html' %}
+{% load i18n %}
+{% block title %}{% trans "Volumes" %}{% endblock %}
+
+{% block main %}
+  <div class="alert alert-info">
+    <h4>Volumes not available</h4>
+    <p>
+      The volumes feature is not currently available for Ironic instances.
+      We hope to offer this feature in the future.
+    </p>
+  </div>
+{% endblock %}
diff --git a/openstack_dashboard/dashboards/project/volumes/views.py b/openstack_dashboard/dashboards/project/volumes/views.py
index 81e9fa7..02c565e 100644
--- a/openstack_dashboard/dashboards/project/volumes/views.py
+++ b/openstack_dashboard/dashboards/project/volumes/views.py
@@ -12,15 +12,9 @@
 #    License for the specific language governing permissions and limitations
 #    under the License.
 
-from django.utils.translation import ugettext_lazy as _
 
-from horizon import tabs
+from django.views.generic import TemplateView
 
-from openstack_dashboard.dashboards.project.volumes \
-    import tabs as project_tabs
 
-
-class IndexView(tabs.TabbedTableView):
-    tab_group_class = project_tabs.VolumeAndSnapshotTabs
-    template_name = 'project/volumes/index.html'
-    page_title = _("Volumes")
+class IndexView(TemplateView):
+    template_name = 'project/volumes/index_override.html'
-- 
2.7.1

